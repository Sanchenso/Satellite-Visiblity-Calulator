# Satellite Visiblity Calulator

Программа для оценки видимости космического аппарата (КА) с точки зрения наземного наблюдателя.
Алгоритм выполняет пошаговое преобразование координат спутника из инерциальной системы координат (ECI)
в земную систему (ECEF) с учетом вращения Земли и прецессии-нутации по модели IAU 2000B.

Требования:
- Python 3.8.10 и выше
- проверить зависимости Python
- для запуска GUI необходимо установить tkinter 

`sudo apt-get update && apt-get install -y python3-tk`

# Запуск графического интерфейса (GUI)

Для запуска графического интерфейса с уже заданными тестовыми параметрами необходимо запустить скрипт gui.py:

`python3 gui.py`

Позволяет вводить исходные данные (координаты КА, геоположение наблюдателя, дату, порог видимости)
и вычислять угол возвышения.

# Запуск основного скрипта
Основной скрипт sat_math.py может работать автономно:

`python3 sat_math.py`

В консоль выводится угол возвышения КА и оценка видимости. Все вводные параметры в составе скрипта

# Проверка результатов

Для проверки расчетов множно запустить скрипт test_sat_math.py на основе библиотеки astropy:

`python3 test_sat_math.py`


# Алгоритм расчёта
## Основные шаги
1. Преобразование даты TT в UT1. Учитываются шкалы времени TT, UTC, UT1 и разности TT - UTC.
2. Расчёт угла вращения Земли (ERA). Используется модель IAU/IERS CIO (Capitaine et al., 2006).
3. Учёт прецессии и нутации. Применяется матрица C(X,Y,s) по модели IAU 2000B (функции erfa.xys00b, erfa.c2ixys).
4. Учёт полярного движения. Поворот матрицей W(xp, yp) (параметры из EOP).
5. Преобразование координат КА ECI (GCRS) в ECEF (система, вращающаяся с Землёй).
6. Определение положения наблюдателя. Геодезические координаты (широта, долгота, высота) в ECEF (по модели WGS-84).
7. Расчёт угла возвышения. Вектор КА-наблюдатель проецируется в локальные оси ENU (East-North-Up) и вычисляется угол возвышения над горизонтом:


## Системы координат
- ECI (GCRS) - инерциальная геоцентрическая.
- ECEF - земная (вращающаяся с Землёй).
- ENU - локальная система East–North–Up (ENU).

## Входные данные
- Координаты КА в ECI (метры)
- Геодезические координаты наблюдателя (широта, долгота, высота)
- Момент времени (в юлианских днях TT, от эпохи J2000)
- Порог видимости (градусы)
- Параметры времени:
  - leap seconds (число високосных секунд)
  - DUT1, xp, yp (по умолчанию нули)
  

## Выходные данные
- Угол возвышения КА над горизонтом (градусы)
- Статус видимости “КА виден” или “КА не виден”

## Использованные стандарты и источники

IAU 2006 / 2000A / 2000B - модели прецессии, нутации и вращения Земли
IERS Conventions (2010) - Earth Orientation Parameters, шкалы времени
SOFA / ERFA - официальные астрономические алгоритмы IAU
Astropy - эталон для проверки корректности реализации
Руководство по Всемирной геодезической системе 1984 (WGS-84) - геодезическая модель Земли
